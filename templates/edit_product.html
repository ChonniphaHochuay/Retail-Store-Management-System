<!DOCTYPE html>
<html>
<head>
    <title>Edit Product</title>
</head>
<body>
    <h1>Edit Product</h1>
    <form method="POST" enctype="multipart/form-data">
        <label>Name:</label><input type="text" name="name" value="{{ product.name }}"><br>
        <label>Description:</label><input type="text" name="description" value="{{ product.description }}"><br>
        <label>Price:</label><input type="number" step="0.01" name="price" value="{{ product.price }}"><br>
        <label>Quantity:</label><input type="number" name="quantity" value="{{ product.quantity }}"><br>
        <label>Category:</label>
        <select name="category_id">
            {% for category in categories %}
                <option value="{{ category.category_id }}" {% if category.category_id == product.category_id %}selected{% endif %}>
                    {{ category.category_name }}
                </option>
            {% endfor %}
        </select><br>

        <!-- Image upload section -->
        <label>Image:</label><br>
        {% if product.image_path %}
            <img src="{{ url_for('static', filename='uploads/' + product.image_path) }}" width="100" alt="Product Image"><br>
            <label>Change Image:</label><input type="file" name="image"><br>
        {% else %}
            <label>Upload Image:</label><input type="file" name="image"><br>
        {% endif %}

        <input type="submit" value="Update">
    </form>
    <a href="{{ url_for('view_products') }}">Back to Products</a>
</body>
</html>

